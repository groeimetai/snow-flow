---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { getLangFromUrl, useTranslations, type Lang } from '../../../i18n/utils';

export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'nl' } }
  ];
}

const lang = getLangFromUrl(Astro.url) as Lang;
const t = useTranslations(lang);

const title = t('customers.meta.title');
const description = t('customers.meta.description');
---

<BaseLayout title={title} description={description}>
    <link rel="stylesheet" href="/styles/enterprise.css" />

    <!-- Background Effects -->
    <div class="bg-grid"></div>
    <div class="bg-gradient"></div>
    <div class="bg-noise"></div>

    <!-- Hero Section -->
    <section class="enterprise-hero">
        <div class="hero-glow"></div>
        <div class="container">
            <div class="hero-content">
                <nav class="breadcrumb">
                    <a href={`/${lang}/enterprise`}>Enterprise</a>
                    <span>/</span>
                    <span>{t('customers.breadcrumb')}</span>
                </nav>

                <div class="hero-badge customer-badge">
                    <span class="pulse"></span>
                    {t('customers.hero.badge')}
                </div>

                <h1 class="hero-title">
                    <span class="small">{t('customers.hero.badge')}</span>
                    <span class="gradient">SERVICENOW</span><br />
                    DEVELOPMENT,<br />
                    ORCHESTRATED.
                </h1>

                <p class="hero-subtitle">
                    {t('customers.hero.subtitle')}
                </p>

                <div class="hero-ctas">
                    <a href="mailto:sales@snow-flow.dev" class="btn btn-primary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                            <polyline points="22,6 12,13 2,6"></polyline>
                        </svg>
                        {t('customers.hero.cta')}
                    </a>
                    <a href="https://portal.snow-flow.dev/pricing" class="btn btn-secondary">
                        {t('customers.hero.ctaSecondary')}
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Problem/Solution Section -->
    <section class="section problem-solution-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">{t('customers.challenge.label')}</span>
                <h2 class="section-title">{t('customers.challenge.title')}</h2>
            </div>

            <div class="problem-solution-grid">
                <div class="problem-card">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="15" y1="9" x2="9" y2="15"></line>
                            <line x1="9" y1="9" x2="15" y2="15"></line>
                        </svg>
                    </div>
                    <h3>{t('customers.challenge.problemTitle')}</h3>
                    <ul>
                        <li>{t('customers.challenge.problem1')}</li>
                        <li>{t('customers.challenge.problem2')}</li>
                        <li>{t('customers.challenge.problem3')}</li>
                    </ul>
                </div>

                <div class="solution-card customer-solution">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                        </svg>
                    </div>
                    <h3>{t('customers.challenge.solutionTitle')}</h3>
                    <ul>
                        <li>{t('customers.challenge.solution1')}</li>
                        <li>{t('customers.challenge.solution2')}</li>
                        <li>{t('customers.challenge.solution3')}</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Community Section -->
    <section class="section community-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">{t('customers.community.label')}</span>
                <h2 class="section-title">{t('customers.community.title')}</h2>
                <p class="section-subtitle">{t('customers.community.subtitle')}</p>
            </div>

            <div class="community-stats">
                <div class="community-stat">
                    <div class="community-stat-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#00D9FF" stroke-width="2">
                            <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                        </svg>
                    </div>
                    <span class="community-stat-label">{t('customers.community.githubLabel')}</span>
                </div>
                <div class="community-stat">
                    <div class="community-stat-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="#CB3837">
                            <path d="M0 7.334v8h6.666v1.332H12v-1.332h12v-8H0zm6.666 6.664H5.334v-4H3.999v4H1.335V8.667h5.331v5.331zm4 0v1.336H8.001V8.667h5.334v5.332h-2.669v-.001zm12.001 0h-1.33v-4h-1.336v4h-1.335v-4h-1.33v4h-2.671V8.667h8.002v5.331zM10.665 10H12v2.667h-1.335V10z"/>
                        </svg>
                    </div>
                    <span class="community-stat-label">{t('customers.community.npmLabel')}</span>
                </div>
                <div class="community-stat">
                    <span class="community-stat-value">500+</span>
                    <span class="community-stat-label">{t('customers.community.toolsLabel')}</span>
                </div>
            </div>

            <div class="community-badges">
                <a href="https://github.com/groeimetai/snow-flow" target="_blank" rel="noopener noreferrer">
                    <img src="https://img.shields.io/github/stars/groeimetai/snow-flow?style=for-the-badge&logo=github&color=00D9FF" alt="GitHub Stars" loading="lazy" />
                </a>
                <a href="https://www.npmjs.com/package/snow-flow" target="_blank" rel="noopener noreferrer">
                    <img src="https://img.shields.io/npm/dw/snow-flow?style=for-the-badge&logo=npm&color=CB3837" alt="npm Downloads" loading="lazy" />
                </a>
            </div>
        </div>
    </section>

    <!-- Screenshot Showcase Section -->
    <section class="section showcase-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">{t('customers.showcase.label')}</span>
                <h2 class="section-title">{t('customers.showcase.title')}</h2>
                <p class="section-subtitle">{t('customers.showcase.subtitle')}</p>
            </div>

            <!-- Dashboard Feature -->
            <div class="showcase-block" data-aos="fade-up">
                <div class="showcase-content">
                    <div class="showcase-badge customer-accent">{t('customers.dashboard.badge')}</div>
                    <h3 class="showcase-title">{t('customers.dashboard.title')}</h3>
                    <p class="showcase-desc">{t('customers.dashboard.desc')}</p>
                    <ul class="showcase-features">
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.dashboard.feature1')}
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.dashboard.feature2')}
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.dashboard.feature3')}
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.dashboard.feature4')}
                        </li>
                    </ul>
                </div>
                <div class="showcase-image">
                    <img src="/customer-dashboard-snow-flow.png" alt="Snow-Flow Customer Dashboard" loading="lazy" decoding="async" />
                </div>
            </div>

            <!-- Activities Feature - Tall Image -->
            <div class="showcase-block reverse tall-image" data-aos="fade-up">
                <div class="showcase-content">
                    <div class="showcase-badge customer-accent">{t('customers.activities.badge')}</div>
                    <h3 class="showcase-title">{t('customers.activities.title')}</h3>
                    <p class="showcase-desc">{t('customers.activities.desc')}</p>
                    <ul class="showcase-features">
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.activities.feature1')}
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.activities.feature2')}
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.activities.feature3')}
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.activities.feature4')}
                        </li>
                    </ul>
                </div>
                <div class="showcase-image tall">
                    <img src="/customer-activities-snow-flow.png" alt="Snow-Flow Agent Activities" loading="lazy" decoding="async" />
                </div>
            </div>

            <!-- Update Sets Feature -->
            <div class="showcase-block" data-aos="fade-up">
                <div class="showcase-content">
                    <div class="showcase-badge customer-accent">{t('customers.updatesets.badge')}</div>
                    <h3 class="showcase-title">{t('customers.updatesets.title')}</h3>
                    <p class="showcase-desc">{t('customers.updatesets.desc')}</p>
                    <ul class="showcase-features">
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.updatesets.feature1')}
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.updatesets.feature2')}
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.updatesets.feature3')}
                        </li>
                        <li>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            {t('customers.updatesets.feature4')}
                        </li>
                    </ul>
                </div>
                <div class="showcase-image">
                    <img src="/customer-updateset-snow-flow.png" alt="Snow-Flow Update Sets Management" loading="lazy" decoding="async" />
                </div>
            </div>
        </div>
    </section>

    <!-- Integrations Section -->
    <section class="section integrations-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">{t('customers.integrations.label')}</span>
                <h2 class="section-title">{t('customers.integrations.title')}</h2>
                <p class="section-subtitle">{t('customers.integrations.subtitle')}</p>
            </div>

            <div class="integrations-grid">
                <div class="integration-card">
                    <div class="integration-icon jira">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M11.571 11.513H0a5.218 5.218 0 0 0 5.232 5.215h2.13v2.057A5.215 5.215 0 0 0 12.575 24V12.518a1.005 1.005 0 0 0-1.005-1.005zm5.723-5.756H5.736a5.215 5.215 0 0 0 5.215 5.214h2.129v2.058a5.218 5.218 0 0 0 5.215 5.214V6.758a1.001 1.001 0 0 0-1.001-1.001zM23.013 0H11.455a5.215 5.215 0 0 0 5.215 5.215h2.129v2.057A5.215 5.215 0 0 0 24 12.483V1.005A1.005 1.005 0 0 0 23.013 0z"/>
                        </svg>
                    </div>
                    <h3>Jira</h3>
                    <p>{t('customers.integrations.jiraDesc')}</p>
                </div>

                <div class="integration-card">
                    <div class="integration-icon azure">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M0 8.877L2.247 5.91l8.405-3.416V.022l7.37 5.393L2.966 8.338v8.225L0 15.707zm24-4.45v15.144l-7.37 5.393v-2.472l5.123-2.066V6.543l-6.468 2.612 1.345-.993z"/>
                        </svg>
                    </div>
                    <h3>Azure DevOps</h3>
                    <p>{t('customers.integrations.azureDesc')}</p>
                </div>

                <div class="integration-card">
                    <div class="integration-icon confluence">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M.87 18.257c-.248.382-.53.875-.763 1.245a.764.764 0 0 0 .255 1.04l4.965 3.054a.764.764 0 0 0 1.058-.26c.199-.332.454-.763.733-1.221 1.967-3.247 3.945-2.853 7.508-1.146l4.957 2.377a.764.764 0 0 0 1.028-.382l2.36-5.203a.764.764 0 0 0-.382-1.028c-1.689-.81-4.676-2.233-6.678-3.191-6.003-2.871-10.507-2.731-15.041 4.715zM23.131 5.743c.249-.405.531-.875.764-1.25a.764.764 0 0 0-.256-1.034L18.675.404a.764.764 0 0 0-1.058.26c-.199.332-.454.764-.733 1.222-1.967 3.247-3.945 2.853-7.508 1.146L4.418.655a.764.764 0 0 0-1.028.382L1.03 6.241a.764.764 0 0 0 .382 1.028c1.689.81 4.676 2.232 6.678 3.191 6.003 2.871 10.506 2.731 15.04-4.717z"/>
                        </svg>
                    </div>
                    <h3>Confluence</h3>
                    <p>{t('customers.integrations.confluenceDesc')}</p>
                </div>
            </div>

            <div class="integrations-badge">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                <span class="badge-text">{t('customers.integrations.badge')}</span>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="section faq-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">{t('customers.faq.label')}</span>
                <h2 class="section-title">{t('customers.faq.title')}</h2>
            </div>

            <div class="faq-grid">
                <div class="faq-item">
                    <button class="faq-question">
                        <span>{t('customers.faq.q1')}</span>
                        <span class="faq-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </span>
                    </button>
                    <div class="faq-answer">
                        <p class="faq-answer-content">{t('customers.faq.a1')}</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>{t('customers.faq.q2')}</span>
                        <span class="faq-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </span>
                    </button>
                    <div class="faq-answer">
                        <p class="faq-answer-content">{t('customers.faq.a2')}</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">
                        <span>{t('customers.faq.q3')}</span>
                        <span class="faq-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </span>
                    </button>
                    <div class="faq-answer">
                        <p class="faq-answer-content">{t('customers.faq.a3')}</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="section cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>{t('customers.cta.title')}</h2>
                <p>{t('customers.cta.subtitle')}</p>
                <div class="cta-buttons">
                    <a href="mailto:sales@snow-flow.dev" class="btn btn-primary btn-large">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                            <polyline points="22,6 12,13 2,6"></polyline>
                        </svg>
                        {t('customers.cta.primary')}
                    </a>
                    <a href="https://portal.snow-flow.dev/pricing" class="btn btn-secondary btn-large">
                        {t('customers.cta.secondary')}
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-brand">
                <a href={`/${lang}/`} class="footer-logo" aria-label="Snow-Flow Home">
                    <svg class="footer-logo-svg" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="footer-gradient" x1="16" y1="9" x2="16" y2="23" gradientUnits="userSpaceOnUse">
                                <stop offset="0%" stop-color="#FFFFFF"/>
                                <stop offset="100%" stop-color="#00D9FF"/>
                            </linearGradient>
                        </defs>
                        <path d="M4 23 L10 9 L16 15 L22 9 L28 23 Z" fill="url(#footer-gradient)" stroke="#00D9FF" stroke-width="1.2" stroke-linejoin="round"/>
                    </svg>
                    <span class="footer-logo-text">
                        <span class="snow">SNOW</span><span class="flow">FLOW</span>
                    </span>
                </a>
                <p class="footer-tagline">
                    {t('footer.tagline')}
                </p>
            </div>

            <div class="footer-bottom">
                <p class="footer-copyright">
                    {t('footer.copyright')}
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Scroll animations for showcase blocks
        const showcaseBlocks = document.querySelectorAll('.showcase-block');

        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        showcaseBlocks.forEach(block => {
            observer.observe(block);
        });

        // FAQ toggle functionality
        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            question.addEventListener('click', () => {
                // Close other open items
                faqItems.forEach(otherItem => {
                    if (otherItem !== item && otherItem.classList.contains('open')) {
                        otherItem.classList.remove('open');
                    }
                });
                // Toggle current item
                item.classList.toggle('open');
            });
        });
    </script>
</BaseLayout>

<style>
    .breadcrumb {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 24px;
        font-size: 0.9rem;
    }

    .breadcrumb a {
        color: var(--color-text-secondary, #94A3B8);
        text-decoration: none;
        transition: color 0.2s ease;
    }

    .breadcrumb a:hover {
        color: #00D9FF;
    }

    .breadcrumb span {
        color: var(--color-text-muted, #64748B);
    }

    .customer-badge {
        background: rgba(0, 217, 255, 0.1);
        border-color: rgba(0, 217, 255, 0.3);
        color: #00D9FF;
    }

    .customer-accent {
        background: rgba(0, 217, 255, 0.1);
        border-color: rgba(0, 217, 255, 0.3);
        color: #00D9FF;
    }

    .customer-solution {
        border-color: rgba(0, 217, 255, 0.3);
    }
</style>
