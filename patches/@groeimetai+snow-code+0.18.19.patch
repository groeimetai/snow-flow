diff --git a/node_modules/@groeimetai/snow-code/src/auth/servicenow-oauth.ts b/node_modules/@groeimetai/snow-code/src/auth/servicenow-oauth.ts
index 441cb3e..55ebb1f 100644
--- a/node_modules/@groeimetai/snow-code/src/auth/servicenow-oauth.ts
+++ b/node_modules/@groeimetai/snow-code/src/auth/servicenow-oauth.ts
@@ -821,7 +821,7 @@ export class ServiceNowOAuth {
   }
 
   /**
-   * Start localhost callback server
+   * Start localhost callback server with Codespaces fallback
    */
   private async startCallbackServer(
     port: number,
@@ -830,11 +830,16 @@ export class ServiceNowOAuth {
     clientSecret: string,
     redirectUri: string,
   ): Promise<ServiceNowAuthResult> {
+    const inCodespace = this.isCodespace()
+
     return new Promise((resolve) => {
       const { createServer } = require("http")
       const { URL } = require("url")
+      let resolved = false
 
       const server = createServer(async (req: any, res: any) => {
+        if (resolved) return
+
         try {
           const url = new URL(req.url!, `http://localhost:${port}`)
 
@@ -848,6 +853,7 @@ export class ServiceNowOAuth {
               res.writeHead(400, { "Content-Type": "text/html" })
               res.end(OAuthTemplates.securityError)
               server.close()
+              resolved = true
               resolve({ success: false, error: "Invalid state parameter" })
               return
             }
@@ -856,6 +862,7 @@ export class ServiceNowOAuth {
               res.writeHead(400, { "Content-Type": "text/html" })
               res.end(OAuthTemplates.error(`OAuth error: ${error}`))
               server.close()
+              resolved = true
               resolve({ success: false, error: `OAuth error: ${error}` })
               return
             }
@@ -864,6 +871,7 @@ export class ServiceNowOAuth {
               res.writeHead(400, { "Content-Type": "text/html" })
               res.end(OAuthTemplates.missingCode)
               server.close()
+              resolved = true
               resolve({ success: false, error: "No authorization code received" })
               return
             }
@@ -884,12 +892,14 @@ export class ServiceNowOAuth {
               res.end(OAuthTemplates.success)
               spinner.stop("Authentication successful")
               server.close()
+              resolved = true
               resolve(tokenResult)
             } else {
               res.writeHead(500, { "Content-Type": "text/html" })
               res.end(OAuthTemplates.tokenExchangeFailed(tokenResult.error || "Unknown error"))
               spinner.stop("Token exchange failed")
               server.close()
+              resolved = true
               resolve(tokenResult)
             }
           } else {
@@ -900,6 +910,7 @@ export class ServiceNowOAuth {
           res.writeHead(500, { "Content-Type": "text/plain" })
           res.end("Internal Server Error")
           server.close()
+          resolved = true
           resolve({
             success: false,
             error: error instanceof Error ? error.message : String(error),
@@ -907,18 +918,109 @@ export class ServiceNowOAuth {
         }
       })
 
-      server.listen(port, () => {
+      server.listen(port, async () => {
         prompts.log.info(`Callback server started on http://localhost:${port}/callback`)
         prompts.log.info("Waiting for OAuth callback...")
+
+        // In Codespaces, offer alternative to paste callback URL
+        if (inCodespace) {
+          prompts.log.message("")
+          prompts.log.info("ðŸ’¡ If the automatic callback doesn't work:")
+          prompts.log.message("   1. After clicking 'Approve' in ServiceNow")
+          prompts.log.message("   2. Copy the full URL from your browser (it will start with http://localhost:3005/callback)")
+          prompts.log.message("   3. Paste it below when prompted")
+          prompts.log.message("")
+
+          // Wait a bit to see if automatic callback works
+          await new Promise(resolve => setTimeout(resolve, 3000))
+
+          if (!resolved) {
+            try {
+              const callbackUrl = await prompts.text({
+                message: "Paste the callback URL here (or press Enter to keep waiting):",
+                placeholder: "http://localhost:3005/callback?code=...&state=...",
+                validate: (value) => {
+                  if (!value || value.trim() === "") {
+                    return undefined // Allow empty to continue waiting
+                  }
+                  if (!value.includes("/callback")) {
+                    return "URL must contain '/callback'"
+                  }
+                  return undefined
+                }
+              })
+
+              if (!prompts.isCancel(callbackUrl) && callbackUrl && callbackUrl.trim() !== "") {
+                // Parse the pasted URL
+                try {
+                  const parsedUrl = new URL(callbackUrl.replace('localhost:3005', 'localhost:' + port))
+                  const code = parsedUrl.searchParams.get("code")
+                  const error = parsedUrl.searchParams.get("error")
+                  const state = parsedUrl.searchParams.get("state")
+
+                  // Validate state parameter
+                  if (state !== this.stateParameter) {
+                    server.close()
+                    resolved = true
+                    resolve({ success: false, error: "Invalid state parameter - possible CSRF attack" })
+                    return
+                  }
+
+                  if (error) {
+                    server.close()
+                    resolved = true
+                    resolve({ success: false, error: `OAuth error: ${error}` })
+                    return
+                  }
+
+                  if (!code) {
+                    prompts.log.warn("No authorization code found in URL, continuing to wait for callback...")
+                  } else {
+                    // Exchange code for tokens
+                    const spinner = prompts.spinner()
+                    spinner.start("Exchanging authorization code for tokens")
+                    const tokenResult = await this.exchangeCodeForTokens(
+                      instance,
+                      clientId,
+                      clientSecret,
+                      code,
+                      redirectUri
+                    )
+
+                    if (tokenResult.success) {
+                      spinner.stop("Authentication successful")
+                      server.close()
+                      resolved = true
+                      resolve(tokenResult)
+                    } else {
+                      spinner.stop("Token exchange failed")
+                      server.close()
+                      resolved = true
+                      resolve(tokenResult)
+                    }
+                  }
+                } catch (urlError) {
+                  prompts.log.warn("Invalid URL format, continuing to wait for callback...")
+                }
+              }
+            } catch (promptError) {
+              // If prompt fails, just continue waiting
+              prompts.log.warn("Continuing to wait for automatic callback...")
+            }
+          }
+        }
       })
 
       // Timeout after 5 minutes
       setTimeout(() => {
-        server.close()
-        resolve({
-          success: false,
-          error: "Authentication timeout (5 minutes)",
-        })
+        if (!resolved) {
+          server.close()
+          resolved = true
+          resolve({
+            success: false,
+            error: "Authentication timeout (5 minutes)",
+          })
+        }
       }, 300000)
     })
   }
