/* =========================================
   SECTION LAYERING FIX - Prevent Overlap During Scroll
   ========================================= */

/* Hero section - much higher z-index to stay on top during scroll */
.hero {
  position: relative !important;
  z-index: 100 !important; /* Much higher than sections */
  isolation: isolate !important; /* Create stacking context */
}

/* All sections - much lower z-index to stay behind hero during scroll */
.section {
  position: relative !important;
  z-index: 1 !important; /* Much lower than hero */
  background-attachment: scroll !important; /* Prevent background issues */
  /* Force sections to stay behind */
  transform: translateZ(-1px) !important;
}

/* First section after hero - specific overlap prevention */
#servers {
  z-index: 1 !important; /* Ensure it stays behind hero */
  position: relative !important;
  /* Force behind hero with transform */
  transform: translateZ(-1px) !important;
  /* Clear separation without overlap */
  margin-top: 0 !important; /* Remove excessive margin */
  padding-top: var(--space-16) !important; /* Internal padding instead of margin */
}

/* Revolutionary Features section - specific fix */
#new-features {
  z-index: 1 !important; /* Behind hero */
  position: relative !important;
  transform: translateZ(-1px) !important; /* Force behind */
}

/* Hero content - proper stacking above sections */
.hero-content {
  position: relative !important;
  z-index: 200 !important; /* Much higher to stay above all sections */
  transform: translateZ(1px) !important; /* Force forward */
}

/* Hero background elements - lowest z-index */
.hero-bg-animation,
.floating-orb {
  z-index: 0 !important; /* Background layer */
}

/* Navbar - highest z-index (unchanged) */
.navbar {
  z-index: 1000 !important; /* Always on top */
}

/* Smooth section transitions without overlap */
.section-transition {
  background: linear-gradient(to bottom, transparent 0%, var(--black) 20%) !important;
  height: var(--space-8) !important;
  position: relative !important;
  z-index: 2 !important;
  margin-top: -var(--space-8) !important;
}

/* Fix any transform issues during scroll */
.section * {
  transform-style: preserve-3d !important; /* Prevent transform issues */
}

/* Mobile layering adjustments */
@media (max-width: 768px) {
  .hero {
    z-index: 10 !important;
  }
  
  .section {
    z-index: 1 !important;
  }
  
  #servers {
    margin-top: 0 !important;
    padding-top: var(--space-12) !important;
  }
}