# Snow-Flow Enterprise License Server - Environment Configuration

# ========================================
# SERVER CONFIGURATION
# ========================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=info

# ========================================
# DATABASE CONFIGURATION (MySQL 8.4)
# ========================================

# Local Development (Docker Compose)
DB_HOST=localhost
DB_PORT=3306
DB_USER=snow-flow
DB_PASSWORD=dev-password-123
DB_NAME=licenses

# Production (Cloud SQL)
USE_CLOUD_SQL=false
INSTANCE_CONNECTION_NAME=snow-flow-ai:europe-west4:snow-flow-production-db

# ========================================
# SECURITY
# ========================================

# Session Secret (CHANGE IN PRODUCTION!)
SESSION_SECRET=snow-flow-enterprise-session-secret-change-in-production

# Admin API Key (CHANGE IN PRODUCTION!)
ADMIN_KEY=change-this-to-secure-random-string

# Credentials Encryption Key (MUST BE 32+ characters in production!)
# Used for AES-256-GCM encryption of service integrator credentials
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CREDENTIALS_ENCRYPTION_KEY=dev-key-change-in-production-32bytes-exactly-here!

# ========================================
# CORS & API
# ========================================
CORS_ORIGIN=*

# ========================================
# NOTES
# ========================================
# Local Development:
#   1. Start Docker: docker-compose up -d
#   2. Database will be at localhost:3306
#   3. phpMyAdmin at http://localhost:8080
#
# Production (Cloud SQL):
#   1. Set USE_CLOUD_SQL=true
#   2. Set INSTANCE_CONNECTION_NAME (format: project:region:instance)
#   3. Store DB_PASSWORD in Secret Manager
#   4. Ensure VPC peering is configured
#   5. Use Private IP (ipType: 'PRIVATE')
